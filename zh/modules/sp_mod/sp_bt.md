# SP_BT 的使用
===

## 介绍

SP_BT 是一款蓝牙串口透传模块， 具备超低功率特性和高可靠性， 使用 AT 指令进行控制， 蓝牙版本为 BLE 5.0(兼容BLE4.0, BLE4.2), 默认串口波特率为9600.

## 使用方式

透传即透明传输, 我们发给该模块的消息会被该模块原封不动的以蓝牙消息的方式发送出去, 使用者只需将其当作串口使用即可, 即使不了解蓝牙协议, 非常方便.

### 初始化串口

初始化串口(注意串口波特率需要与 SP_BT 的波特率相同), 如果想要使用不同波特率可以发送 AT 指令以更改模块波特率.

### 检查与模块的通信

可通过发送 AT 指令查询模块信息来检查是否可以正常控制模块.
程序如下:

```python
uart.write("AT+NAME\r\n")
read_data = uart.read()
read_str = read_data.decode('utf-8')
count = read_str.count("NAME")
if count != 0:
    print("get name success")
```
主要分为两步:
1. 第一行: 发送 "AT+NAME\r\n".
2. 第二行之后: 接收应答并判断应答是否有效.

**需要注意的是 AT 指令需加上结束符 \r\n, 否则模块将不能正确解析, 更多的 AT 指令可以参考仓库中的手册**

### 开始蓝牙通信

经过上两个步骤便可以进行蓝牙通信了, 我们需要一个另一个蓝牙设备来完成通信, 这里使用了一个蓝牙调试助手, 模块此时是未连接状态(ACT 闪烁, STA 常灭), 使用蓝牙调试助手扫描连接该模块, 此时模块处于连接状态(ACT 常亮, STA 常亮)， 连接后蓝牙调试助手会显示有多个服务, 如下图:

